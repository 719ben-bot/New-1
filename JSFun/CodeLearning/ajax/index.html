<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>ajax</title>
</head>

<body>
</body>
<script src="./ajax.js"></script>
<script>

function ajax(url, method) {
    var xhr = getXHR();
    xhr.onreadystatechange = function() {
        console.log('xhr.readyState:' + this.readyState);
    }
    xhr.onloadstart = function() {
        console.log('onloadStart');
    }
    xhr.onload = function() {
        console.log('onload');
    }
    xhr.open(method, url, true);
    xhr.setRequestHeader('Cache-Control', 3600);
    xhr.send();
}
var timer = setTimeout(function() {
    console.log('setTimeout');
}, 0);

ajax('http://h0.hucdn.com/open/201712/194b950e0e18b0fd_750x334.jpg', 'GET');
console.warn('这里的log并不是最先打印出来的.');
</script>

</html>
